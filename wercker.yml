box: golang

dev:
  steps:
    - internal/watch:
        code: go run main.go
        reload: true

build:
  steps:
    - internal/docker-build:
        dockerfile: Dockerfile
        image-name: gobot
        ports: "8383"
        registry-auth-config: |
          {
            "hub.docker.com": {
              "username": $USERNAME,
              "password": $PASSWORD
            }
          }
deploy:
  steps:
    - internal/docker-push:
        username: $USERNAME
        password: $PASSWORD
        port: "8383"
        tag: latest
        repository: tttmaximttt/gobot
        registry: https://registry.hub.docker.com